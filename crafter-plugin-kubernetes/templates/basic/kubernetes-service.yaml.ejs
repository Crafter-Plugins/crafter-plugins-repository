---
to: kubernetes-service-<%= service.properties.name %>.yaml
useRelativePath: true
---

apiVersion: v1
kind: Service
metadata:
  name: <%= service.properties.name.toLowerCase() %>-service
  namespace: <%= blueprintName.toLowerCase() %>
  labels:
    io.crafter/blueprint-name: <%= blueprintName.toLowerCase() %>
    app.kubernetes.io/managed-by: crafter
spec:
  ports:
  - port: <%= service.environment.port || service.environment.PORT %>
    protocol: TCP
    targetPort: <%= service.environment.port || service.environment.PORT %>
  selector:
    io.crafter/blueprint-name: <%= blueprintName.toLowerCase() %>